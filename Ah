getgenv().AutoFarmV2 = true
local function StartFarm()
    task.spawn(function()
        while task.wait() do
            if not getgenv().AutoFarmV2 then break end

            local character = LocalPlayer.Character
            local humanoid = character and character:FindFirstChild("Humanoid")

            if not character or not humanoid then continue end
            if humanoid.Health  0
            end

            if character:FindFirstChild("HumanoidRootPart") then
                local closestEnemy, shortestDistance = nil, math.huge

                for _, v in pairs(workspace.Enemys:GetChildren()) do
                    if v:IsA("Model") then
                        local hum = v:FindFirstChild("Humanoid")
                        local hrp = v:FindFirstChild("HumanoidRootPart")

                        for _, part in pairs(v:GetDescendants()) do
                            if part:IsA("BasePart") then
                                part.CanCollide = false
                            end
                        end

                        if hum and hrp and hum.Health > 0 then
                            local distance = (character.HumanoidRootPart.Position - hrp.Position).Magnitude
                            if distance  0 and tick() - startTime  0 then
                                character.HumanoidRootPart.CFrame = enemyHRP.CFrame + Vector3.new(0, 0, 0)
                            end

                            task.wait()
                            bv:Destroy()
                        end)
                    end
                else
                    pcall(function()
                        character.HumanoidRootPart.CFrame = CFrame.new(103.7486, 8.06245, -75.8969)
                        local bv = Instance.new("BodyVelocity")
                        bv.MaxForce = Vector3.new(1e5, 1e5, 1e5)
                        bv.Velocity = Vector3.new(0, 0, 0)
                        bv.Parent = character.HumanoidRootPart
                        task.wait()
                        bv:Destroy()
                    end)
                end
            end
        end
    end)
end

StartFarm()
